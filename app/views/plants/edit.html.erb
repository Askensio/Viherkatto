<% provide(:title, 'Kasvien p채ivitys') %>
<%= stylesheet_link_tag "bootstrap-select", media: "all" %>
<h1>Kasvin p채ivitys</h1>


<div class="row">
  <div class="span5 offset3">
    <%= form_for(@plant) do |f| %>
        <%= render 'shared/error_plants' %>
        <%= f.label :name %>
        <%= f.text_field :name %>

        <%= f.label :latin_name %>
        <%= f.text_field :latin_name %>

        <%= f.label :colour %>
        <%= f.select :colour, colour_categories, {}, :class => "selectpicker show-menu-arrow span5" %>

        <%= f.label :light_id %>
        <%= collection_select(:light, :id, Light.all,
                              :id, :desc, {:selected => @plant.light_id}, :class => "selectpicker show-menu-arrow span5") %>

        <%= f.label :growth_environment %>
        <% if @plant.growth_environments.empty? %>

            <%= collection_select(:growth_environments, :id, GrowthEnvironment.all,
                                  :id, :environment, {}, :class => "selectpicker show-menu-arrow span5", :multiple => true) %>

        <% else %>
            <%= collection_select(:growth_environments, :id, GrowthEnvironment.all,
                                  :id, :environment, {:selected => listSelectedEnvironments(@plant.growth_environments)}, :class => "selectpicker show-menu-arrow span5", :multiple => true) %>

        <% end %>
        <%= f.label :maintenance %>
        <%= collection_select(:maintenances, :id, Maintenance.all,
                              :id, :name, {:selected => @plant.maintenance.id}, :class => "selectpicker show-menu-arrow span5") %>

        <%= f.label "minimum soil thickness (cm)" %>
        <%= f.text_field :min_soil_thickness %>

        <%= f.label :min_height %>
        <%= f.text_field :min_height %>

        <%= f.label :max_height %>
        <%= f.text_field :max_height %>

        <%= f.label "weight (kg/m2)" %>
        <%= f.text_field :weight %>

        <%= f.label :note %>
        <%= f.text_field :note %>

        <%= f.submit "P채ivit채", class: "btn btn-large btn-custom" %>
    <% end %>
  </div>
</div>

<%= javascript_include_tag "bootstrap-select" %>

<script>$('.selectpicker').selectpicker();</script>
